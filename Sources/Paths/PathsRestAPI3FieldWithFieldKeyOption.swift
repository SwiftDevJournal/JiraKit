// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import Get
import URLQueryEncoder

extension Paths.API.__3.Field.WithFieldKey {
    public var option: Option {
        Option(path: path + "/option")
    }

    public struct Option {
        /// Path: `/rest/api/3/field/{fieldKey}/option`
        public let path: String

        /// Get all issue field options
        ///
        /// Returns a [paginated](#pagination) list of all the options of a select list issue field. A select list issue field is a type of [issue field](https://developer.atlassian.com/cloud/jira/platform/modules/issue-field/) that enables a user to select a value from a list of options.
        /// 
        /// Note that this operation **only works for issue field select list options added by Connect apps**, it cannot be used with issue field select list options created in Jira or using operations from the [Issue custom field options](#api-group-Issue-custom-field-options) resource.
        /// 
        /// **[Permissions](#permissions) required:** *Administer Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg). Jira permissions are not required for the app providing the field.
        public func get(startAt: Int64? = nil, maxResults: Int32? = nil) -> Request<JiraKit.PageBeanIssueFieldOption> {
            Request(method: "GET", url: path, query: makeGetQuery(startAt, maxResults), id: "getAllIssueFieldOptions")
        }

        private func makeGetQuery(_ startAt: Int64?, _ maxResults: Int32?) -> [(String, String?)] {
            let encoder = URLQueryEncoder()
            encoder.encode(startAt, forKey: "startAt")
            encoder.encode(maxResults, forKey: "maxResults")
            return encoder.items
        }

        /// Create issue field option
        ///
        /// Creates an option for a select list issue field.
        /// 
        /// Note that this operation **only works for issue field select list options added by Connect apps**, it cannot be used with issue field select list options created in Jira or using operations from the [Issue custom field options](#api-group-Issue-custom-field-options) resource.
        /// 
        /// **[Permissions](#permissions) required:** *Administer Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg). Jira permissions are not required for the app providing the field.
        public func post(_ body: JiraKit.IssueFieldOptionCreateBean) -> Request<JiraKit.IssueFieldOption> {
            Request(method: "POST", url: path, body: body, id: "createIssueFieldOption")
        }
    }
}
