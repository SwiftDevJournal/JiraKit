// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import Get
import URLQueryEncoder

extension Paths.API.__3.Role {
    public func id(_ id: Int) -> WithID {
        WithID(path: "\(path)/\(id)")
    }

    public struct WithID {
        /// Path: `/rest/api/3/role/{id}`
        public let path: String

        /// Get project role by ID
        ///
        /// Gets the project role details and the default actors associated with the role. The list of default actors is sorted by display name.
        /// 
        /// **[Permissions](#permissions) required:** *Administer Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg).
        public var get: Request<JiraKit.ProjectRole> {
            Request(path: path, method: "GET", id: "getProjectRoleById")
        }

        /// Partial update project role
        ///
        /// Updates either the project role's name or its description.
        /// 
        /// You cannot update both the name and description at the same time using this operation. If you send a request with a name and a description only the name is updated.
        /// 
        /// **[Permissions](#permissions) required:** *Administer Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg).
        public func post(_ body: JiraKit.CreateUpdateRoleRequestBean) -> Request<JiraKit.ProjectRole> {
            Request(path: path, method: "POST", body: body, id: "partialUpdateProjectRole")
        }

        /// Fully update project role
        ///
        /// Updates the project role's name and description. You must include both a name and a description in the request.
        /// 
        /// **[Permissions](#permissions) required:** *Administer Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg).
        public func put(_ body: JiraKit.CreateUpdateRoleRequestBean) -> Request<JiraKit.ProjectRole> {
            Request(path: path, method: "PUT", body: body, id: "fullyUpdateProjectRole")
        }

        /// Delete project role
        ///
        /// Deletes a project role. You must specify a replacement project role if you wish to delete a project role that is in use.
        /// 
        /// **[Permissions](#permissions) required:** *Administer Jira* [global permission](https://confluence.atlassian.com/x/x4dKLg).
        public func delete(swap: Int64? = nil) -> Request<Void> {
            Request(path: path, method: "DELETE", query: makeDeleteQuery(swap), id: "deleteProjectRole")
        }

        private func makeDeleteQuery(_ swap: Int64?) -> [(String, String?)] {
            let encoder = URLQueryEncoder()
            encoder.encode(swap, forKey: "swap")
            return encoder.items
        }
    }
}
